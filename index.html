<!doctype html>
<html>
<head>
	<title>HSTS Study</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
</head>
<body>
	<nav id="navbar-hsts" class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
		<div class="container">
			<a class="navbar-brand" href="/">HSTS Study</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="#home">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#adoption">Adoption</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#configuration">Configuration</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#inconsistencies">Inconsistencies</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<div style="height: 100vh; padding-top: 56px;">
		<div style="overflow-y: scroll; height: 100%;" data-spy="scroll" data-target="#navbar-hsts" data-offset="56">
			<div class="container">
				<h1 id="home">HSTS Study</h1>
				<p>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra, nisi non luctus aliquet, massa magna blandit augue, ac finibus nibh velit id ligula. Proin quis sapien a dolor volutpat imperdiet ut at libero. In vitae tortor ligula. Aliquam sollicitudin ligula in felis consectetur iaculis ac quis libero. Sed fringilla ante nec nisi cursus, quis posuere leo lacinia. Donec elementum commodo dolor, nec pretium felis tristique molestie. Proin tincidunt laoreet neque, a vestibulum nisi molestie a. Fusce pulvinar nisl enim, et varius justo rutrum id.
				</p>
				<h2 id="adoption">Adoption</h2>
				<div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Chart options">
					<div class="nav btn-group btn-group-toggle" id="adoption-tabs" data-toggle="buttons" role="tablist">
						<label class="nav-link btn btn-secondary active" id="adoption-scope-absolute-tab" data-toggle="tab" href="#adoption-absolute" role="tab" aria-controls="adoption-absolute" aria-selected="true">
							<input type="radio" name="adoption-scope" id="adoption-scope-absolute-radio" autocomplete="off" checked> Absolute
						</label>
						<label class="nav-link btn btn-secondary" id="adoption-scope-relative-tab" data-toggle="tab" href="#adoption-relative" role="tab" aria-controls="adoption-relative" aria-selected="false">
							<input type="radio" name="adoption-scope" id="adoption-scope-relative-radio" autocomplete="off"> Relative
						</label>
					</div>
				</div>
				<div class="tab-content" id="adoption-tab-content">
					<div class="tab-pane fade show active" id="adoption-absolute" role="tabpanel" aria-labelledby="adoption-scope-absolute-tab" style="width: 100%;height: 400px;"></div>
					<div class="tab-pane fade" id="adoption-relative" role="tabpanel" aria-labelledby="adoption-scope-relative-tab" style="width: 100%;height: 400px;"></div>
				</div>
				<p>
					Phasellus elit elit, blandit nec aliquet at, facilisis sit amet dolor. Nam faucibus ullamcorper orci, sed sagittis urna semper id. Sed sed consequat neque. Pellentesque lacinia vitae quam id sodales. Cras et elementum lacus, et scelerisque neque. Pellentesque tortor urna, consectetur eget sem sit amet, varius accumsan ipsum. Integer id lectus eu augue feugiat vehicula sit amet sit amet purus. Phasellus suscipit nunc at mauris semper, nec consequat justo vulputate. Curabitur in orci tincidunt, condimentum eros vitae, feugiat ipsum. Mauris sed leo nulla. Aliquam leo dolor, laoreet pharetra auctor sit amet, auctor vitae metus. Duis ut nibh quis metus malesuada semper.
				</p>
				<p>
					Fusce malesuada tellus id enim volutpat venenatis. Phasellus malesuada eu turpis sed feugiat. Sed convallis mauris vel facilisis pharetra. Pellentesque vel elementum urna. Nulla consequat, lorem a gravida tempus, lectus diam vulputate sem, non efficitur justo dui non odio. Quisque molestie purus vel interdum iaculis. Etiam rutrum sodales luctus. Proin sit amet sem ipsum. Nunc et faucibus odio, nec cursus velit.
				</p>
				<p>
					Nunc efficitur nibh vitae hendrerit tincidunt. Phasellus dapibus odio elit, quis sagittis massa lobortis fermentum. In molestie, urna nec molestie pretium, lorem lectus tincidunt ligula, sed maximus turpis turpis sit amet justo. In eget auctor est. Phasellus quis dui pellentesque, facilisis mauris non, hendrerit neque. Aenean finibus, erat non rutrum bibendum, mi metus blandit arcu, vel eleifend lorem orci ac purus. Sed at purus gravida, lacinia eros ut, iaculis nunc. Suspendisse non tempor lacus, quis sagittis nisl. Suspendisse quis lacinia massa.
				</p>
				<p>
					Nam eu lacinia nisi. Maecenas eget nulla turpis. Vivamus lobortis elit est, sit amet mattis libero mollis ac. Maecenas varius condimentum placerat. Donec at maximus nisi. Donec feugiat, ligula non cursus vehicula, ipsum dui laoreet diam, eu bibendum tortor sem non arcu. Donec ac faucibus nisi, sit amet vehicula metus. Integer tempor libero id orci facilisis malesuada. Sed faucibus mi facilisis urna suscipit, vitae tincidunt enim aliquam. Curabitur interdum ipsum non magna euismod mattis. Ut non fringilla diam, quis egestas libero. Vestibulum sed laoreet sapien. Suspendisse vitae arcu vehicula, consequat odio eu, varius lectus. Quisque quis commodo dolor. Integer tempus nec ipsum id bibendum. Donec in metus ut turpis euismod aliquam vel accumsan risus.
				</p>

				<h2 id="configuration">Configuration</h2>
				<p>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra, nisi non luctus aliquet, massa magna blandit augue, ac finibus nibh velit id ligula. Proin quis sapien a dolor volutpat imperdiet ut at libero. In vitae tortor ligula. Aliquam sollicitudin ligula in felis consectetur iaculis ac quis libero. Sed fringilla ante nec nisi cursus, quis posuere leo lacinia. Donec elementum commodo dolor, nec pretium felis tristique molestie. Proin tincidunt laoreet neque, a vestibulum nisi molestie a. Fusce pulvinar nisl enim, et varius justo rutrum id.
				</p>

				<div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Chart options">
					<div class="nav btn-group btn-group-toggle" id="configuration-tabs" data-toggle="buttons" role="tablist">
						<label class="nav-link btn btn-secondary active" id="configuration-scope-absolute-tab" data-toggle="tab" href="#configuration-absolute" role="tab" aria-controls="configuration-absolute" aria-selected="true">
							<input type="radio" name="configuration-scope" id="configuration-scope-absolute-radio" autocomplete="off" checked> Absolute
						</label>
						<label class="nav-link btn btn-secondary" id="configuration-scope-relative-tab" data-toggle="tab" href="#configuration-relative" role="tab" aria-controls="configuration-relative" aria-selected="false">
							<input type="radio" name="configuration-scope" id="configuration-scope-relative-radio" autocomplete="off"> Relative
						</label>
					</div>
					<div class="btn-group btn-group-toggle data-set-toggle" data-chart="configuration" data-toggle="buttons">
						<label class="btn btn-secondary">
							<input type="radio" name="configuration-set" id="configuration-set-ipv4" data-set="ipv4" autocomplete="off"> IPv4
						</label>
						<label class="btn btn-secondary">
							<input type="radio" name="configuration-set" id="configuration-set-ipv6" data-set="ipv6" autocomplete="off"> IPv6
						</label>
						<label class="btn btn-secondary active">
							<input type="radio" name="configuration-set" id="configuration-set-merged" data-set="merged" autocomplete="off" checked> Merged
						</label>
					</div>
				</div>
				<div class="tab-content" id="configuration-tab-content">
					<div class="tab-pane fade show active" id="configuration-absolute" role="tabpanel" aria-labelledby="configuration-scope-absolute-tab" style="width: 100%;height: 400px;"></div>
					<div class="tab-pane fade" id="configuration-relative" role="tabpanel" aria-labelledby="configuration-scope-relative-tab" style="width: 100%;height: 400px;"></div>
				</div>

				<p>
					Phasellus elit elit, blandit nec aliquet at, facilisis sit amet dolor. Nam faucibus ullamcorper orci, sed sagittis urna semper id. Sed sed consequat neque. Pellentesque lacinia vitae quam id sodales. Cras et elementum lacus, et scelerisque neque. Pellentesque tortor urna, consectetur eget sem sit amet, varius accumsan ipsum. Integer id lectus eu augue feugiat vehicula sit amet sit amet purus. Phasellus suscipit nunc at mauris semper, nec consequat justo vulputate. Curabitur in orci tincidunt, condimentum eros vitae, feugiat ipsum. Mauris sed leo nulla. Aliquam leo dolor, laoreet pharetra auctor sit amet, auctor vitae metus. Duis ut nibh quis metus malesuada semper.
				</p>

				<div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Chart options">
					<div class="nav btn-group btn-group-toggle" id="max-age-tabs" data-toggle="buttons" role="tablist">
						<label class="nav-link btn btn-secondary active" id="max-age-scope-absolute-tab" data-toggle="tab" href="#max-age-absolute" role="tab" aria-controls="max-age-absolute" aria-selected="true">
							<input type="radio" name="max-age-scope" id="max-age-scope-absolute-radio" autocomplete="off" checked> Absolute
						</label>
						<label class="nav-link btn btn-secondary" id="max-age-scope-relative-tab" data-toggle="tab" href="#max-age-relative" role="tab" aria-controls="max-age-relative" aria-selected="false">
							<input type="radio" name="max-age-scope" id="max-age-scope-relative-radio" autocomplete="off"> Relative
						</label>
					</div>
					<div class="btn-group btn-group-toggle data-set-toggle" data-chart="max-age" data-toggle="buttons">
						<label class="btn btn-secondary">
							<input type="radio" name="max-age-set" id="max-age-set-ipv4" data-set="ipv4" autocomplete="off"> IPv4
						</label>
						<label class="btn btn-secondary">
							<input type="radio" name="max-age-set" id="max-age-set-ipv6" data-set="ipv6" autocomplete="off"> IPv6
						</label>
						<label class="btn btn-secondary active">
							<input type="radio" name="max-age-set" id="max-age-set-merged" data-set="merged" autocomplete="off" checked> Merged
						</label>
					</div>
				</div>
				<div class="tab-content" id="max-age-tab-content">
					<div class="tab-pane fade show active" id="max-age-absolute" role="tabpanel" aria-labelledby="max-age-scope-absolute-tab" style="width: 100%;height: 400px;"></div>
					<div class="tab-pane fade" id="max-age-relative" role="tabpanel" aria-labelledby="max-age-scope-relative-tab" style="width: 100%;height: 400px;"></div>
				</div>

				<p>
					Fusce malesuada tellus id enim volutpat venenatis. Phasellus malesuada eu turpis sed feugiat. Sed convallis mauris vel facilisis pharetra. Pellentesque vel elementum urna. Nulla consequat, lorem a gravida tempus, lectus diam vulputate sem, non efficitur justo dui non odio. Quisque molestie purus vel interdum iaculis. Etiam rutrum sodales luctus. Proin sit amet sem ipsum. Nunc et faucibus odio, nec cursus velit.
				</p>
				<p>
					Nunc efficitur nibh vitae hendrerit tincidunt. Phasellus dapibus odio elit, quis sagittis massa lobortis fermentum. In molestie, urna nec molestie pretium, lorem lectus tincidunt ligula, sed maximus turpis turpis sit amet justo. In eget auctor est. Phasellus quis dui pellentesque, facilisis mauris non, hendrerit neque. Aenean finibus, erat non rutrum bibendum, mi metus blandit arcu, vel eleifend lorem orci ac purus. Sed at purus gravida, lacinia eros ut, iaculis nunc. Suspendisse non tempor lacus, quis sagittis nisl. Suspendisse quis lacinia massa.
				</p>
				<p>
					Nam eu lacinia nisi. Maecenas eget nulla turpis. Vivamus lobortis elit est, sit amet mattis libero mollis ac. Maecenas varius condimentum placerat. Donec at maximus nisi. Donec feugiat, ligula non cursus vehicula, ipsum dui laoreet diam, eu bibendum tortor sem non arcu. Donec ac faucibus nisi, sit amet vehicula metus. Integer tempor libero id orci facilisis malesuada. Sed faucibus mi facilisis urna suscipit, vitae tincidunt enim aliquam. Curabitur interdum ipsum non magna euismod mattis. Ut non fringilla diam, quis egestas libero. Vestibulum sed laoreet sapien. Suspendisse vitae arcu vehicula, consequat odio eu, varius lectus. Quisque quis commodo dolor. Integer tempus nec ipsum id bibendum. Donec in metus ut turpis euismod aliquam vel accumsan risus.
				</p>

				<h2 id="inconsistencies">Inconsistencies</h2>

				<div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Chart options">
					<div class="nav btn-group btn-group-toggle" id="inconsistencies-tabs" data-toggle="buttons" role="tablist">
						<label class="nav-link btn btn-secondary active" id="inconsistencies-scope-absolute-tab" data-toggle="tab" href="#inconsistencies-absolute" role="tab" aria-controls="inconsistencies-absolute" aria-selected="true">
							<input type="radio" name="inconsistencies-scope" id="inconsistencies-scope-absolute-radio" autocomplete="off" checked> Absolute
						</label>
						<label class="nav-link btn btn-secondary" id="inconsistencies-scope-relative-tab" data-toggle="tab" href="#inconsistencies-relative" role="tab" aria-controls="inconsistencies-relative" aria-selected="false">
							<input type="radio" name="inconsistencies-scope" id="inconsistencies-scope-relative-radio" autocomplete="off"> Relative
						</label>
					</div>
					<div class="btn-group btn-group-toggle data-set-toggle" data-chart="inconsistencies" data-toggle="buttons">
						<label class="btn btn-secondary active">
							<input type="radio" name="inconsistencies-set" id="inconsistencies-set-ipv4" data-set="ipv4" autocomplete="off" checked> IPv4
						</label>
						<label class="btn btn-secondary">
							<input type="radio" name="inconsistencies-set" id="inconsistencies-set-ipv6" data-set="ipv6" autocomplete="off"> IPv6
						</label>
					</div>
				</div>
				<div class="tab-content" id="inconsistencies-tab-content">
					<div class="tab-pane fade show active" id="inconsistencies-absolute" role="tabpanel" aria-labelledby="inconsistencies-scope-absolute-tab" style="width: 100%;height: 400px;"></div>
					<div class="tab-pane fade" id="inconsistencies-relative" role="tabpanel" aria-labelledby="inconsistencies-scope-relative-tab" style="width: 100%;height: 400px;"></div>
				</div>

				<p>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra, nisi non luctus aliquet, massa magna blandit augue, ac finibus nibh velit id ligula. Proin quis sapien a dolor volutpat imperdiet ut at libero. In vitae tortor ligula. Aliquam sollicitudin ligula in felis consectetur iaculis ac quis libero. Sed fringilla ante nec nisi cursus, quis posuere leo lacinia. Donec elementum commodo dolor, nec pretium felis tristique molestie. Proin tincidunt laoreet neque, a vestibulum nisi molestie a. Fusce pulvinar nisl enim, et varius justo rutrum id.
				</p>

				<div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Chart options">
					<div class="nav btn-group btn-group-toggle" id="inconsistency-v4v6-tabs" data-toggle="buttons" role="tablist">
						<label class="nav-link btn btn-secondary active" id="inconsistency-v4v6-scope-absolute-tab" data-toggle="tab" href="#inconsistency-v4v6-absolute" role="tab" aria-controls="inconsistency-v4v6-absolute" aria-selected="true">
							<input type="radio" name="inconsistency-v4v6-scope" id="inconsistency-v4v6-scope-absolute-radio" autocomplete="off" checked> Absolute
						</label>
						<label class="nav-link btn btn-secondary" id="inconsistency-v4v6-scope-relative-tab" data-toggle="tab" href="#inconsistency-v4v6-relative" role="tab" aria-controls="inconsistency-v4v6-relative" aria-selected="false">
							<input type="radio" name="inconsistency-v4v6-scope" id="inconsistency-v4v6-scope-relative-radio" autocomplete="off"> Relative
						</label>
					</div>
				</div>
				<div class="tab-content" id="inconsistency-v4v6-tab-content">
					<div class="tab-pane fade show active" id="inconsistency-v4v6-absolute" role="tabpanel" aria-labelledby="inconsistency-v4v6-scope-absolute-tab" style="width: 100%;height: 400px;"></div>
					<div class="tab-pane fade" id="inconsistency-v4v6-relative" role="tabpanel" aria-labelledby="inconsistency-v4v6-scope-relative-tab" style="width: 100%;height: 400px;"></div>
				</div>

				<p>
					Phasellus elit elit, blandit nec aliquet at, facilisis sit amet dolor. Nam faucibus ullamcorper orci, sed sagittis urna semper id. Sed sed consequat neque. Pellentesque lacinia vitae quam id sodales. Cras et elementum lacus, et scelerisque neque. Pellentesque tortor urna, consectetur eget sem sit amet, varius accumsan ipsum. Integer id lectus eu augue feugiat vehicula sit amet sit amet purus. Phasellus suscipit nunc at mauris semper, nec consequat justo vulputate. Curabitur in orci tincidunt, condimentum eros vitae, feugiat ipsum. Mauris sed leo nulla. Aliquam leo dolor, laoreet pharetra auctor sit amet, auctor vitae metus. Duis ut nibh quis metus malesuada semper.
				</p>
				<p>
					Fusce malesuada tellus id enim volutpat venenatis. Phasellus malesuada eu turpis sed feugiat. Sed convallis mauris vel facilisis pharetra. Pellentesque vel elementum urna. Nulla consequat, lorem a gravida tempus, lectus diam vulputate sem, non efficitur justo dui non odio. Quisque molestie purus vel interdum iaculis. Etiam rutrum sodales luctus. Proin sit amet sem ipsum. Nunc et faucibus odio, nec cursus velit.
				</p>
				<p>
					Nunc efficitur nibh vitae hendrerit tincidunt. Phasellus dapibus odio elit, quis sagittis massa lobortis fermentum. In molestie, urna nec molestie pretium, lorem lectus tincidunt ligula, sed maximus turpis turpis sit amet justo. In eget auctor est. Phasellus quis dui pellentesque, facilisis mauris non, hendrerit neque. Aenean finibus, erat non rutrum bibendum, mi metus blandit arcu, vel eleifend lorem orci ac purus. Sed at purus gravida, lacinia eros ut, iaculis nunc. Suspendisse non tempor lacus, quis sagittis nisl. Suspendisse quis lacinia massa.
				</p>
				<p>
					Nam eu lacinia nisi. Maecenas eget nulla turpis. Vivamus lobortis elit est, sit amet mattis libero mollis ac. Maecenas varius condimentum placerat. Donec at maximus nisi. Donec feugiat, ligula non cursus vehicula, ipsum dui laoreet diam, eu bibendum tortor sem non arcu. Donec ac faucibus nisi, sit amet vehicula metus. Integer tempor libero id orci facilisis malesuada. Sed faucibus mi facilisis urna suscipit, vitae tincidunt enim aliquam. Curabitur interdum ipsum non magna euismod mattis. Ut non fringilla diam, quis egestas libero. Vestibulum sed laoreet sapien. Suspendisse vitae arcu vehicula, consequat odio eu, varius lectus. Quisque quis commodo dolor. Integer tempus nec ipsum id bibendum. Donec in metus ut turpis euismod aliquam vel accumsan risus.
				</p>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
	<script src="https://code.highcharts.com/highcharts.src.js"></script>
	<script type="text/javascript" src="chart.js"></script>
	<script type="text/javascript">
		$(function(){
			var chartMap = {};

			$('.data-set-toggle').delegate('input[type="radio"]', 'change', function(event) {
				var group = $(event.delegateTarget);
				var option = $(event.currentTarget);

				var id = group.data('chart');
				var set = option.data('set');

				var chart = chartMap[id];
				if (chart) {
					chart.load(set);
				}
			});

			chartMap['adoption'] = new Chart('adoption',
				{
					'chart': {
						'type': 'spline',
						'zoomType': 'xy'
					},
					'title': {
						'text': "HSTS Adoption"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:,.0f} domains</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "# domains"
						},
						'min': 0
					},
					'plotOptions': {
						'spline': {
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': "IPv4",
							'data': []
						}, {
							'name': "IPv6",
							'data': []
						}, {
							'name': "Merged",
							'data': []
						}
					]
				},
				{
					'chart': {
						'type': 'spline',
						'zoomType': 'xy'
					},
					'title': {
						'text': "HSTS Adoption"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:.2f}%</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "% of scaned domains"
						},
						'min': 0
					},
					'plotOptions': {
						'spline': {
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': "IPv4",
							'data': []
						}, {
							'name': "IPv6",
							'data': []
						}, {
							'name': "Merged",
							'data': []
						}
					]
				},
				new DataResolver(true, false, ['ipv4', 'ipv6', 'merged'])
			);

			chartMap['configuration'] = new Chart('configuration',
				{
					'chart': {
						'type': 'spline',
						'zoomType': 'xy'
					},
					'title': {
						'text': "HSTS Configuration"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:,.0f} domains</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "# domains"
						},
						'min': 0
					},
					'plotOptions': {
						'spline': {
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': "includeSubDomains",
							'data': []
						}, {
							'name': "preload",
							'data': []
						}
					]
				},
				{
					'chart': {
						'type': 'spline',
						'zoomType': 'xy'
					},
					'title': {
						'text': "HSTS Configuration"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:.2f}%</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "% of domains with sts"
						},
						'min': 0
					},
					'plotOptions': {
						'spline': {
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': "includeSubDomains",
							'data': []
						}, {
							'name': "preload",
							'data': []
						}
					]
				},
				new DataResolver(true, true, ['includeSubDomains', 'preload'])
			);

			chartMap['max-age'] = new Chart('max-age',
				{
					'chart': {
						'type': 'area',
						'zoomType': 'xy'
					},
					'title': {
						'text': "max-age values"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:,.0f} domains</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "# domains"
						},
						'min': 0
					},
					'plotOptions': {
						'area': {
							'stacking': 'normal',
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': ">1 year",
							'data': []
						}, {
							'name': "1 year",
							'data': []
						}, {
							'name': "6 months",
							'data': []
						}, {
							'name': "30 days",
							'data': []
						}, {
							'name': "1 week",
							'data': []
						}, {
							'name': "off",
							'data': []
						}
					]
				},
				{
					'chart': {
						'type': 'area',
						'zoomType': 'xy'
					},
					'title': {
						'text': "max-age values"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:.2f}%</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "% of domains with sts"
						},
						'min': 0,
						'max': 100
					},
					'plotOptions': {
						'area': {
							'stacking': 'percent',
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': ">1 year",
							'data': []
						}, {
							'name': "1 year",
							'data': []
						}, {
							'name': "6 months",
							'data': []
						}, {
							'name': "30 days",
							'data': []
						}, {
							'name': "1 week",
							'data': []
						}, {
							'name': "off",
							'data': []
						}
					]
				},
				new DataResolver(false, true, ['other', 'year', 'half-year', 'month', 'week', 'off'])
			);

			chartMap['inconsistencies'] = new Chart('inconsistencies',
				{
					'chart': {
						'type': 'spline',
						'zoomType': 'xy'
					},
					'title': {
						'text': "HSTS Inconsistencies"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:,.0f} domains</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "# domains"
						},
						'min': 0
					},
					'plotOptions': {
						'spline': {
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': "total",
							'data': []
						}, {
							'name': "configuration",
							'data': []
						}, {
							'name': "existence",
							'data': []
						}
					]
				},
				{
					'chart': {
						'type': 'spline',
						'zoomType': 'xy'
					},
					'title': {
						'text': "HSTS Inconsistencies"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:.2f}%</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "% of domains with sts"
						},
						'min': 0
					},
					'plotOptions': {
						'spline': {
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': "total",
							'data': []
						}, {
							'name': "configuration",
							'data': []
						}, {
							'name': "existence",
							'data': []
						}
					]
				},
				new DataResolver(true, true, ['total', 'configuration', 'existence'])
			);

			chartMap['inconsistency-v4v6'] = new Chart('inconsistency-v4v6',
				{
					'chart': {
						'type': 'spline',
						'zoomType': 'xy'
					},
					'title': {
						'text': "HSTS Inconsistency IPv4 - IPv6"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:,.0f} domains</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "# domains"
						},
						'min': 0
					},
					'plotOptions': {
						'spline': {
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': "Inconsistent domains",
							'data': []
						}
					]
				},
				{
					'chart': {
						'type': 'spline',
						'zoomType': 'xy'
					},
					'title': {
						'text': "HSTS Inconsistency IPv4 - IPv6"
					},
					'tooltip': {
						'headerFormat': "<b>{series.name}</b><br/>",
						'pointFormat': "<span>{point.x:%e. %b %Y}</span><br/><span>{point.y:.2f}%</span>"
					},
					'xAxis': {
						'title': {
							'text': "Date"
						},
						'type': 'datetime',
						'dateTimeLabelFormats': {
							'day': '%e. %b %Y',
							'month': '%b %Y',
							'year': '%Y'
						}
					},
					'yAxis': {
						'title': {
							'text': "% of domains with sts"
						},
						'min': 0
					},
					'plotOptions': {
						'spline': {
							'marker': {
								'enabled': true,
								'radius': 2 
							}
						}
					},
					'series': [
						{
							'name': "Inconsistent domains",
							'data': []
						}
					]
				},
				new DataResolver(true, false, ['inconsistent'])
			);

			$.each(chartMap, function(id, chart) {
				if(id == 'inconsistencies') {
					chart.load('ipv4');
				} else {
					chart.load('merged');
				}
			});
		});
	</script>
</body>
</html>
